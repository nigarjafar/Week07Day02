<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://use.fontawesome.com/e74da2ab9b.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body>
    <nav class="myNav">
      <div>
        <a class="hider" href="#">Metronic</a>
        <button><i class="fa fa-bars" aria-hidden="true"></i></button>
      </div>
      <ul id="elements">
        <!-- <li>
          <i class="fa fa-home" aria-hidden="true"></i>
            <span class="hider">Dashboard</span>
            <ul class="downmenu hidemenu" >
              <li>Dashboard</li>
            </ul>
        </li>
       -->
      </ul>
    </nav>

    

      <script src="js/jquery-3.1.0.min.js"></script>
      <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.js"><\/script>')</script>
      <script src="js/vendor/bootstrap.min.js"></script>
      <script src="js/main.js"></script>
    </body>
</html>
<script>


var menu= ["Dashboard","All Features" ,"Components", "From Stuff" ,"Elements","Tables", "Portlets" ,"Charts","Page Layouts" , "Components", "From Stuff" ,"Elements","Tables", "Portlets"]
var icon=["home" , "camera-retro" ,"diamond","cogs","bicycle","briefcase","glass", "bar-chart","cube","car" , "camera-retro" ,"diamond","glass", "bar-chart"]
var subMenu=[
  ["Dashboard 1", "Dashboard 2","Dashboard 3","Dashboard 4"],
  ["Feature","Feature","Feature","Feature","Feature","Feature","Feature"],
  ["Component 1","Component 2","Component 3","Component 4"],
  ["Stuff","Stuff","Stuff","Stuff","Stuff","Stuff","Stuff","Stuff"],
  ["element 1","element 2","element 3","element 4","element 5"],
  ["Table","Table","Table","Table","Table","Table","Table","Table"],
  ["Portlet","Portlet","Portlet","Portlet","Portlet"],
  ["Chart","Chart","Chart"],
  ["Layout","Layout","Layout","Layout","Layout","Layout","Layout","Layout"],
  ["Component 1","Component 2","Component 3","Component 4"],
  ["Stuff","Stuff","Stuff","Stuff","Stuff","Stuff","Stuff","Stuff"],
  ["element 1","element 2","element 3","element 4","element 5"],
  ["Table","Table","Table","Table","Table","Table","Table","Table"],
  ["Portlet","Portlet","Portlet","Portlet","Portlet"]
]

var k=1;
for(i=0;i<menu.length;i++){
  $("#elements").append("<li></li>")
  $("#elements>li:nth-child("+k+")") 
  //Should write nth-child bcs otherwise i , span is created more than once(every loop)
  .append("<i class='fa fa-"+icon[i]+"'></i>")
  .append("<span class='hider'>"+menu[i]+"</span>")
  //DownMenu
  .append("<ul class='downmenu hidemenu'></ul>")
    for(j=0;j<subMenu[i].length;j++) {   
        $("#elements>li:nth-child("+k+") .downmenu")
        .append("<li>"+subMenu[i][j]+"</li>")
    }
  k++;
}

//Hide Submenu and menu name 
$(".hider , .hidemenu")
.hide()


//Open/Close Menu
var i=0;
  $("button")
  .on('click', function(){
    
    if(i%2==0){
        $("nav")
        .removeClass("myNav")
        .addClass("myNavActive")
        $(".hider").show()
        i++
      }

    else{
      $("nav")
      .removeClass("myNavActive")
      .addClass("myNav")
      $(".hider").hide()
      i++
    }

  })


//Show Submenu on hover/change colors
$("#elements>li")
  .mouseenter(function(){
    var top= $(this).offset().top;
    var left= $(this).width();

    $(this).find("span").css("color", "white")
    $(this).find(".downmenu").css({
        top: top,
        left: left
    })
    .show()
  })

.mouseleave(function(){
  $(this).find("span").css("color", "#bfbfbf")
  $(this).find(".downmenu").hide()
})

//Change parent div color when click on submenu item
$(".downmenu li").on('click',function(){
  $(".downmenu li").parent().parent().find("i").css("color", "lightgray")
  $(this).parent().parent().find("i").css("color" , "#17C4BB")

  $(".downmenu").parent().css("background", "#26344B")
  $(this).parent().parent().css("background", "#1F2B3D")
  
})
  
</script>
